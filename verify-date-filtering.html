<!DOCTYPE html>
<html>
<head>
    <title>Verify Date Filtering</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .info { background-color: #d1ecf1; border-color: #bee5eb; }
        .warning { background-color: #fff3cd; border-color: #ffeaa7; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        button { padding: 10px 15px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>🔍 Verify Date Filtering</h1>
    <p>This page will help you verify that date filtering is working correctly.</p>
    
    <div class="test-section info">
        <h2>📋 Manual Tests</h2>
        <p>Click each link and verify it shows ONLY tasks for that specific date:</p>
        
        <p><strong>Today's Tests:</strong></p>
        <ul>
            <li><a href="index.php" target="_blank">🏠 Home Page</a> - Should show <strong>TODAY's tasks only</strong></li>
            <li><a href="index.php?page=today" target="_blank">📅 Today Page</a> - Should show <strong>TODAY's tasks only</strong></li>
        </ul>
        
        <p><strong>Specific Date Tests:</strong></p>
        <ul>
            <li><a href="index.php?date=2024-01-15" target="_blank">📅 January 15, 2024</a> - Should show <strong>only Jan 15, 2024 tasks</strong></li>
            <li><a href="index.php?date=2024-06-10" target="_blank">📅 June 10, 2024</a> - Should show <strong>only Jun 10, 2024 tasks</strong></li>
            <li><a href="index.php?date=2024-12-25" target="_blank">📅 December 25, 2024</a> - Should show <strong>only Dec 25, 2024 tasks</strong></li>
        </ul>
        
        <p><strong>Navigation Tests:</strong></p>
        <ul>
            <li><a href="index.php?page=all" target="_blank">📋 Recent Tasks</a> - Should show <strong>last 30 days</strong> (not ALL tasks)</li>
        </ul>
    </div>
    
    <div class="test-section warning">
        <h2>⚠️ What to Look For</h2>
        <p><strong>CORRECT Behavior:</strong></p>
        <ul>
            <li>✅ Page title shows the specific date (e.g., "Today's Tasks", "Tasks for Jan 15")</li>
            <li>✅ Only tasks assigned to that specific date are displayed</li>
            <li>✅ Date picker shows the correct date</li>
            <li>✅ "No tasks found" message appears if no tasks exist for that date</li>
        </ul>
        
        <p><strong>INCORRECT Behavior (needs fixing):</strong></p>
        <ul>
            <li>❌ Shows tasks from multiple dates when a specific date is selected</li>
            <li>❌ Shows ALL tasks regardless of date</li>
            <li>❌ Date picker doesn't match the displayed tasks</li>
            <li>❌ Page title doesn't match the actual date filter</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>🔧 Apply Fix</h2>
        <p>If date filtering is NOT working correctly:</p>
        <p>
            <a href="apply-date-fix.php" target="_blank">
                <button>🔧 Apply Date Filtering Fix</button>
            </a>
        </p>
        <p><small>This will backup your current index.php and apply the date filtering fix.</small></p>
    </div>
    
    <div class="test-section">
        <h2>🔍 Diagnostic Tools</h2>
        <p>Use these tools to debug any issues:</p>
        <p>
            <a href="test-date-filtering.php" target="_blank"><button>🧪 Date Filter Test</button></a>
            <a href="diagnose-task-issues.php" target="_blank"><button>🔍 Diagnose Issues</button></a>
            <a href="create-test-tasks.php" target="_blank"><button>➕ Create Test Data</button></a>
        </p>
    </div>
    
    <div class="test-section success">
        <h2>✅ Expected Results</h2>
        <p>After the fix is applied, you should see:</p>
        <ul>
            <li><strong>Home page:</strong> Shows only today's tasks</li>
            <li><strong>Date selection:</strong> Shows only tasks for the selected date</li>
            <li><strong>Empty days:</strong> Shows "No tasks found" message</li>
            <li><strong>Recent page:</strong> Shows tasks from last 30 days (not all tasks)</li>
        </ul>
    </div>
    
    <script>
        // Add some interactive testing
        function createTestButtons() {
            const today = new Date().toISOString().split('T')[0];
            const yesterday = new Date(Date.now() - 24*60*60*1000).toISOString().split('T')[0];
            const tomorrow = new Date(Date.now() + 24*60*60*1000).toISOString().split('T')[0];
            
            const testSection = document.createElement('div');
            testSection.className = 'test-section info';
            testSection.innerHTML = `
                <h2>🗓️ Quick Date Tests</h2>
                <p>Test with current dates:</p>
                <p>
                    <a href="index.php?date=${yesterday}" target="_blank"><button>Yesterday (${yesterday})</button></a>
                    <a href="index.php?date=${today}" target="_blank"><button>Today (${today})</button></a>
                    <a href="index.php?date=${tomorrow}" target="_blank"><button>Tomorrow (${tomorrow})</button></a>
                </p>
            `;
            
            document.body.appendChild(testSection);
        }
        
        // Create dynamic test buttons when page loads
        createTestButtons();
    </script>
</body>
</html>